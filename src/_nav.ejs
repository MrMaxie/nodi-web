<header>
    <div class="nav">
        <div class="center">
            <div class="mobile-btn" data-trigger="open-nav" tabindex="0">
                <%- include('/assets/icons/menu-left.svg') %>
            </div>
            <div class="title"><%- this.projectName %></div>
            <div
                class="mobile-btn"
                data-trigger="open-toc"
                tabindex="0"
                data-is-visible="<%- this.toc ? 'true' : 'false' %>"
            >
                <%- include('/assets/icons/menu-right.svg') %>
            </div>
            <a href="/" data-active="<%- this.page === 'home' %>">Home</a>
            <a href="<%- this.url() %>concepts" data-active="<%- this.page === 'concepts' %>">Concepts</a>
            <% if (this.project !== 'nodi') { %>
                <a href="/docs">Docs</a>
            <% } %>
            <a href="/changelog">Changelog</a>
            <a href="https://www.paypal.com/donate?hosted_button_id=YKNTMFF9QHTLA">Donate</a>
            <% if (this.project !== 'nodi') { %>
                <label class="version">
                    Version:
                    <select>
                        <option>Latest (1.0.0)</option>
                    </select>
                </label>
            <% } %>
        </div>
    </div>
</header>

<div sidebarjs id="sidebar-nav">
    <div class="sidebar-header" aria-role="button" tabindex="0" data-trigger="close-nav">
        Navigation
    </div>
    <a href="/" data-active="<%- this.page === 'home' %>">Home</a>
    <a href="<%- this.url() %>concepts">Concepts</a>
    <% if (this.project !== 'nodi') { %>
        <a href="/docs">Docs</a>
    <% } %>
    <a href="/changelog">Changelog</a>
    <a href="https://www.paypal.com/donate?hosted_button_id=YKNTMFF9QHTLA">Donate</a>
    <% if (this.project !== 'nodi') { %>
        <label class="version">
            Version:
            <select>
                <option>Latest (1.0.0)</option>
            </select>
        </label>
    <% } %>
</div>

<script>
    window.addEventListener('load', () => {
        const sb = new SidebarJS.SidebarElement({
            component: document.getElementById('sidebar-nav'),
            documentMinSwipeX: 10,
            documentSwipeRange: 40,
            nativeSwipe: true,
            nativeSwipeOpen: true,
            position: 'left',
            backdropOpacity: 0.3,
            responsive: false,
        });

        document.addEventListener('click', function(e) {
            for (let target = e.target; target && target !== this; target = target.parentNode) {
                if (target.matches('[data-trigger="open-nav"]')) {
                    sb.open();
                    break;
                }

                if (target.matches('[data-trigger="close-nav"]')) {
                    sb.close();
                    break;
                }
            }
        }, false);
    });
</script>
